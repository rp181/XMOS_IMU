<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>XMOS IMU: IMU/src/Libs/UART/TX/uart_tx.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">XMOS IMU
   
   </div>
   <div id="projectbrief">IMU Based on the XMOS Processor</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('uart__tx_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">IMU/src/Libs/UART/TX/uart_tx.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>UART TX component.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="uart__tx_8h__dep__incl.png" border="0" usemap="#_i_m_u_2src_2_libs_2_u_a_r_t_2_t_x_2uart__tx_8hdep" alt=""/></div>
<map name="_i_m_u_2src_2_libs_2_u_a_r_t_2_t_x_2uart__tx_8hdep" id="_i_m_u_2src_2_libs_2_u_a_r_t_2_t_x_2uart__tx_8hdep">
<area shape="rect" id="node3" href="uart__tx__impl_8h.html" title="IMU/src/Libs/UART/TX/uart_tx_impl.h" alt="" coords="5,80,243,107"/><area shape="rect" id="node5" href="uart__tx_8xc.html" title="IMU/src/Libs/UART/TX/uart_tx.xc" alt="" coords="95,155,308,181"/><area shape="rect" id="node8" href="uart__tx__impl_8xc.html" title="IMU/src/Libs/UART/TX/uart_tx_impl.xc" alt="" coords="318,80,561,107"/></map>
</div>
</div>
<p><a href="uart__tx_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75">uart_tx_parity</a> { <a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75aedc928ca00e6ccff618861d22ace0ac1">UART_TX_PARITY_EVEN</a> =  0, 
<a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75a8bdc11779bba7f8bee264b5e84e182d6">UART_TX_PARITY_ODD</a> =  1, 
<a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75ad34dec81edaaf73e584e3d3af3b2e682">UART_TX_PARITY_NONE</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart__tx_8h.html#acf5d06ccd02506a080758c96c69f4893">uart_tx</a> (out <a class="el" href="_i_m_u_8xc.html#a7987df62616d8b7adb08ccba75d5de9d">port</a> txd, unsigned char buffer[], unsigned buffer_size, unsigned <a class="el" href="_i_m_u_8xc.html#a8f440f04d06b29b189b8db6fec53fea6">baud_rate</a>, unsigned bits, enum <a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75">uart_tx_parity</a> parity, unsigned stop_bits, chanend c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart__tx_8h.html#a0420242b6458fecd553409c5fc761b5c">uart_tx_send_byte</a> (chanend c, unsigned char byte)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart__tx_8h.html#a7bde9cf80d100020159a35e5fd5e1ac8">uart_tx_set_baud_rate</a> (chanend c, unsigned <a class="el" href="_i_m_u_8xc.html#a8f440f04d06b29b189b8db6fec53fea6">baud_rate</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart__tx_8h.html#a82de9bc0d94716a34cf0a761189ff9ea">uart_tx_set_parity</a> (chanend c, enum <a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75">uart_tx_parity</a> parity)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart__tx_8h.html#abd01939cdcbb7f4110c1bb15de870d92">uart_tx_set_stop_bits</a> (chanend c, unsigned stop_bits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart__tx_8h.html#abd62aeeb40280698ba7a96a1ca17d1aa">uart_tx_set_bits_per_byte</a> (chanend c, unsigned bits)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>UART TX component. </p>
<p>This file contains functions to make use of the UART TX component. </p>
</div><hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="aefd5ff809cd2554cd28693cee3b1cb75"></a><!-- doxytag: member="uart_tx.h::uart_tx_parity" ref="aefd5ff809cd2554cd28693cee3b1cb75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75">uart_tx_parity</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enum for the type of parity to use when transmitting data. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aefd5ff809cd2554cd28693cee3b1cb75aedc928ca00e6ccff618861d22ace0ac1"></a><!-- doxytag: member="UART_TX_PARITY_EVEN" ref="aefd5ff809cd2554cd28693cee3b1cb75aedc928ca00e6ccff618861d22ace0ac1" args="" -->UART_TX_PARITY_EVEN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aefd5ff809cd2554cd28693cee3b1cb75a8bdc11779bba7f8bee264b5e84e182d6"></a><!-- doxytag: member="UART_TX_PARITY_ODD" ref="aefd5ff809cd2554cd28693cee3b1cb75a8bdc11779bba7f8bee264b5e84e182d6" args="" -->UART_TX_PARITY_ODD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aefd5ff809cd2554cd28693cee3b1cb75ad34dec81edaaf73e584e3d3af3b2e682"></a><!-- doxytag: member="UART_TX_PARITY_NONE" ref="aefd5ff809cd2554cd28693cee3b1cb75ad34dec81edaaf73e584e3d3af3b2e682" args="" -->UART_TX_PARITY_NONE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="acf5d06ccd02506a080758c96c69f4893"></a><!-- doxytag: member="uart_tx.h::uart_tx" ref="acf5d06ccd02506a080758c96c69f4893" args="(out port txd, unsigned char buffer[], unsigned buffer_size, unsigned baud_rate, unsigned bits, enum uart_tx_parity parity, unsigned stop_bits, chanend c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="uart__tx_8xc.html#acf5d06ccd02506a080758c96c69f4893">uart_tx</a> </td>
          <td>(</td>
          <td class="paramtype">out <a class="el" href="_i_m_u_8xc.html#a7987df62616d8b7adb08ccba75d5de9d">port</a>&#160;</td>
          <td class="paramname"><em>txd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>buffer</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>baud_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75">uart_tx_parity</a>&#160;</td>
          <td class="paramname"><em>parity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>stop_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">chanend&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>UART TX server function. This function never returns and the arguments specify the initial configuration of parity, bits per byte etc. These are checked and then the inner UART TX loop (<a class="el" href="uart__tx__impl_8h.html#a072fa062af122ff8a6ce086fe7452460">uart_tx_impl()</a> is started and runs in a while(1) loop until it receives and instruction to shut down via the channel from the client. Additionally a set of client functions are provided to transmit a byte and to alter the baud rate, parity, bits per byte and stop bit settings. Note that the buffer size can only be changed when this function is first called, it cannot be changed thereafter.</p>
<p>The client provides data to the server using the send byte function below.</p>
<p>Arguments are as follows:</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">txd</td><td>Transmitted data signal. Must be a 1-bit port. </td></tr>
    <tr><td class="paramname">buffer</td><td>Array for buffering bytes before they are transmitted. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>Size of the <em>buffer</em> array. </td></tr>
    <tr><td class="paramname">baud_rate</td><td>Initial baud rate. </td></tr>
    <tr><td class="paramname">bits</td><td>Initial bits per character. Must be less than 8. </td></tr>
    <tr><td class="paramname">parity</td><td>Type of parity to initially use. No parity bit is transmitted if <em>UART_TX_PARITY_NONE</em> is passed. </td></tr>
    <tr><td class="paramname">stop_bits</td><td>Initial number of stop bits to transmit. </td></tr>
    <tr><td class="paramname">c</td><td>Chanend to receive requests on, where a request is either a byte to transmit or a configuration change. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0420242b6458fecd553409c5fc761b5c"></a><!-- doxytag: member="uart_tx.h::uart_tx_send_byte" ref="a0420242b6458fecd553409c5fc761b5c" args="(chanend c, unsigned char byte)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="uart__tx_8xc.html#a0420242b6458fecd553409c5fc761b5c">uart_tx_send_byte</a> </td>
          <td>(</td>
          <td class="paramtype">chanend&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a byte into the UART transmit buffer. If the the buffer is full then this function blocks until there is room in the buffer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">chanend</td><td>Other end of the channel passed to the <a class="el" href="uart__tx_8h.html#acf5d06ccd02506a080758c96c69f4893">uart_tx()</a> function. </td></tr>
    <tr><td class="paramname">byte</td><td>Byte to transmit. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7bde9cf80d100020159a35e5fd5e1ac8"></a><!-- doxytag: member="uart_tx.h::uart_tx_set_baud_rate" ref="a7bde9cf80d100020159a35e5fd5e1ac8" args="(chanend c, unsigned baud_rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="uart__tx_8xc.html#a7bde9cf80d100020159a35e5fd5e1ac8">uart_tx_set_baud_rate</a> </td>
          <td>(</td>
          <td class="paramtype">chanend&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>baud_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>These functions Set the baud rate, parity, stop bits and bits-per-byte settings of the of the UART TX server. The change of configuration takes effect after all remaining data in transmit buffer is sent, and the functions block until the change of configuration takes effect.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">chanend</td><td>Other end of the channel passed to the <a class="el" href="uart__tx_8h.html#acf5d06ccd02506a080758c96c69f4893">uart_tx()</a> function. </td></tr>
    <tr><td class="paramname">[setting]</td><td>The baud rate, parity or stop bits or bits-per-byte setting. Note parity is an enum. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abd62aeeb40280698ba7a96a1ca17d1aa"></a><!-- doxytag: member="uart_tx.h::uart_tx_set_bits_per_byte" ref="abd62aeeb40280698ba7a96a1ca17d1aa" args="(chanend c, unsigned bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="uart__tx_8xc.html#abd62aeeb40280698ba7a96a1ca17d1aa">uart_tx_set_bits_per_byte</a> </td>
          <td>(</td>
          <td class="paramtype">chanend&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a82de9bc0d94716a34cf0a761189ff9ea"></a><!-- doxytag: member="uart_tx.h::uart_tx_set_parity" ref="a82de9bc0d94716a34cf0a761189ff9ea" args="(chanend c, enum uart_tx_parity parity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="uart__tx_8xc.html#a82de9bc0d94716a34cf0a761189ff9ea">uart_tx_set_parity</a> </td>
          <td>(</td>
          <td class="paramtype">chanend&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="uart__tx_8h.html#aefd5ff809cd2554cd28693cee3b1cb75">uart_tx_parity</a>&#160;</td>
          <td class="paramname"><em>parity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abd01939cdcbb7f4110c1bb15de870d92"></a><!-- doxytag: member="uart_tx.h::uart_tx_set_stop_bits" ref="abd01939cdcbb7f4110c1bb15de870d92" args="(chanend c, unsigned stop_bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="uart__tx_8xc.html#abd01939cdcbb7f4110c1bb15de870d92">uart_tx_set_stop_bits</a> </td>
          <td>(</td>
          <td class="paramtype">chanend&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>stop_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="uart__tx_8h.html">uart_tx.h</a>      </li>

    <li class="footer">Generated on Fri May 25 2012 14:55:17 for XMOS IMU by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
